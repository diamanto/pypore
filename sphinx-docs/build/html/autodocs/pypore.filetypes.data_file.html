

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pypore.filetypes.data_file module &mdash; Pypore 0.0.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Pypore 0.0.1 documentation" href="../index.html"/>
        <link rel="up" title="pypore.filetypes package" href="pypore.filetypes.html"/>
        <link rel="next" title="pypore.filetypes.event_database module" href="pypore.filetypes.event_database.html"/>
        <link rel="prev" title="pypore.filetypes package" href="pypore.filetypes.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="fa fa-home"> Pypore</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction.html#what-is-pypore">What is pypore?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#basic-installation-steps">Basic Installation Steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#c-compiler">C Compiler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#get-the-code">Get the Code</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="pypore.html">pypore package</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyporegui.html">pyporegui package</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Pypore</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="modules.html">src</a> &raquo;</li>
      
          <li><a href="pypore.html">pypore package</a> &raquo;</li>
      
          <li><a href="pypore.filetypes.html">pypore.filetypes package</a> &raquo;</li>
      
    <li>pypore.filetypes.data_file module</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/autodocs/pypore.filetypes.data_file.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="module-pypore.filetypes.data_file">
<span id="pypore-filetypes-data-file-module"></span><h1>pypore.filetypes.data_file module<a class="headerlink" href="#module-pypore.filetypes.data_file" title="Permalink to this headline">¶</a></h1>
<p>Created on Jan 28, 2014</p>
<p>&#64;author: <a class="reference external" href="https://github.com/parkin">&#64;parkin</a></p>
<dl class="class">
<dt id="pypore.filetypes.data_file.DataFile">
<em class="property">class </em><tt class="descclassname">pypore.filetypes.data_file.</tt><tt class="descname">DataFile</tt><big>(</big><em>filename</em>, <em>mode='r'</em>, <em>title=''</em>, <em>root_uep='/'</em>, <em>filters=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/pypore/filetypes/data_file.html#DataFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypore.filetypes.data_file.DataFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">tables.file.File</span></tt></p>
<p>PyTables HDF5 database storing raw data.
Inherits from tables.file.File, so you can interact with this
just as you would a PyTables File object. However, this contains
some extra convenience methods for storing/reading data. Note that 
DataFile allows you to interact
with this PyTables file in the usual PyTables file manner, so you
can potentially mangle the data from the original DataFile
format.</p>
<p>Automatically adds matrix
/data</p>
<p>Must be instantiated by calling <a class="reference internal" href="#pypore.filetypes.data_file.open_file" title="pypore.filetypes.data_file.open_file"><tt class="xref py py-func docutils literal"><span class="pre">pypore.filetypes.data_file.open_file()</span></tt></a></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pypore.dataFile</span> <span class="kn">as</span> <span class="nn">df</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">database</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">open_file</span><span class="p">(</span><span class="n">tests</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="s">&#39;w&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Now do stuff with the DataFile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Close and remove the DataFile</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">database</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">tests</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="pypore.filetypes.data_file.DataFile.clean_database">
<tt class="descname">clean_database</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pypore/filetypes/data_file.html#DataFile.clean_database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypore.filetypes.data_file.DataFile.clean_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes /events and then re-initializes the /events group. Note
that any references to any table/matrix in this group will
be broken and need to be refreshed.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">h5</span> <span class="o">=</span> <span class="n">open_file</span><span class="p">(</span><span class="n">tests</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">h5</span><span class="o">.</span><span class="n">get_event_table</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h5</span><span class="o">.</span><span class="n">clean_database</span><span class="p">()</span> <span class="o">//</span> <span class="n">table</span> <span class="ow">is</span> <span class="n">now</span> <span class="n">refers</span> <span class="n">to</span> <span class="n">deleted</span> <span class="n">table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">table</span> <span class="o">=</span> <span class="n">h5</span><span class="o">.</span><span class="n">get_event_table</span><span class="p">()</span> <span class="o">//</span> <span class="n">table</span> <span class="n">now</span> <span class="n">refers</span> <span class="n">to</span> <span class="n">live</span> <span class="n">table</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pypore.filetypes.data_file.DataFile.get_data_length">
<tt class="descname">get_data_length</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pypore/filetypes/data_file.html#DataFile.get_data_length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypore.filetypes.data_file.DataFile.get_data_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Note this will flush the table so the data is correct.
:returns: The number of rows in the data matrix.</p>
</dd></dl>

<dl class="method">
<dt id="pypore.filetypes.data_file.DataFile.get_sample_rate">
<tt class="descname">get_sample_rate</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/pypore/filetypes/data_file.html#DataFile.get_sample_rate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypore.filetypes.data_file.DataFile.get_sample_rate" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The sample rate at root.attrs.sample_rate</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pypore.filetypes.data_file.DataFile.initialize_database">
<tt class="descname">initialize_database</tt><big>(</big><em>**kargs</em><big>)</big><a class="reference internal" href="../_modules/pypore/filetypes/data_file.html#DataFile.initialize_database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypore.filetypes.data_file.DataFile.initialize_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes the data_file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kargs</strong> &#8211; Can pass in &#8216;n_points&#8217;: Maximum number of data points for an event to be added.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pypore.filetypes.data_file.open_file">
<tt class="descclassname">pypore.filetypes.data_file.</tt><tt class="descname">open_file</tt><big>(</big><em>*args</em>, <em>**kargs</em><big>)</big><a class="reference internal" href="../_modules/pypore/filetypes/data_file.html#open_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypore.filetypes.data_file.open_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens a <a class="reference internal" href="#pypore.filetypes.data_file.DataFile" title="pypore.filetypes.data_file.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">DataFile</span></tt></a>, which is a subclass of <tt class="xref py py-class docutils literal"><span class="pre">tables.file.File</span></tt> and can be treated as such.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>args</strong> &#8211; Arguments that get passed to <tt class="xref py py-func docutils literal"><span class="pre">tables.openFile()</span></tt>.</li>
<li><strong>kargs</strong> &#8211; <p>Arguments that get passed to <tt class="xref py py-func docutils literal"><span class="pre">tables.openFile()</span></tt>. Should additionally include:</p>
<ul>
<li>n_points: Number of points that should be in the array.</li>
<li>sample_rate: Sample rate of the data.</li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#pypore.filetypes.data_file.DataFile" title="pypore.filetypes.data_file.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">pypore.filetypes.data_file.DataFile</span></tt></a> &#8211; an already opened
<a class="reference internal" href="#pypore.filetypes.data_file.DataFile" title="pypore.filetypes.data_file.DataFile"><tt class="xref py py-class docutils literal"><span class="pre">pypore.filetypes.data_file.DataFile</span></tt></a>.</p>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pypore.filetypes.data_file</span> <span class="kn">as</span> <span class="nn">df</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">open_file</span><span class="p">(</span><span class="s">&#39;tests.h5&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s">&#39;w&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pypore.filetypes.event_database.html" class="btn btn-neutral float-right" title="pypore.filetypes.event_database module"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pypore.filetypes.html" class="btn btn-neutral" title="pypore.filetypes package"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Will Parkin.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>